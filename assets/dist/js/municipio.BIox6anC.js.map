{"version":3,"file":"municipio.BIox6anC.js","sources":["../../source/js/fab.js","../../source/js/comments.ts","../../source/js/json/language.js","../../source/js/languageMenu.ts","../../source/js/collapsibleSearch.ts","../../source/js/sessionManager.ts","../../source/js/hashHighlightManager.ts","../../source/js/hashUpdateManager.ts","../../source/js/restApi/endpoints/postsListRender.ts","../../source/js/postsList/updateUrlParams.ts","../../source/js/postsList/PostsListAsync.ts","../../source/js/postsList/index.ts","../../source/js/restApi/wpApiSettings.ts","../../source/js/municipio.js"],"sourcesContent":["export default class Fab{\n    showOnScroll(){  \n        let fabs = document.getElementsByClassName(\"c-fab--show-on-scroll\");\n\n        if (1 > fabs.length) {\n            return;\n        }\n      \n        Array.prototype.forEach.call(fabs, fab => {\n            if(window.scrollY  >= 150){\n                fab.classList.remove('u-visibility--hidden');\n            }\n\n            fab.addEventListener('click', (event) =>{\n                window.scrollTo({top: 0, behavior: 'smooth'});\n            });\n        });\n\n        window.addEventListener('scroll', function(event) {\n            fabs.forEach(fab => {\n                if(this.window.scrollY  >= 150){\n                    fab.classList.remove('u-visibility--hidden');\n                }else{\n                    fab.classList.add('u-visibility--hidden');\n                }\n            });\n        });\n    }\n}","/**\n * Comments Manager\n */\nexport class Comments {\n    /**\n     * Initialize the comments functionality.\n     */\n    public static initializeComments(): void {\n      this.initFancyCancelReply();\n      this.initCancelReplyOnClick();\n      this.initLikeComment();\n      this.initTextareaHeightHandler();\n    }\n  \n    /**\n     * Initialize fancy cancel reply functionality.\n     */\n    private static initFancyCancelReply(): void {\n      const replyLinks = document.querySelectorAll('.comment-reply-link') as NodeListOf<HTMLElement>;\n      replyLinks.forEach((replyLink) => {\n        replyLink.addEventListener('click', Comments.applyFancyStyleToCancelLink);\n      });\n    }\n  \n    /**\n     * Apply fancy button styles to the cancel reply link.\n     */\n    private static applyFancyStyleToCancelLink(): void {\n      const cancelLink = document.getElementById('cancel-comment-reply-link');\n      if (cancelLink) {\n        const classList = [\n          'c-button',\n          'u-float--right',\n          'c-button__basic',\n          'basic--secondary',\n          'c-button--md',\n        ];\n        cancelLink.classList.add(...classList);\n      }\n    }\n  \n    /**\n     * Initialize cancel reply functionality on click.\n     */\n    private static initCancelReplyOnClick(): void {\n      const cancelLink = document.getElementById('cancel-comment-reply-link');\n      if (cancelLink) {\n        cancelLink.addEventListener('click', Comments.showReplyButtons);\n      }\n    }\n  \n    /**\n     * Show reply buttons by removing the hidden class.\n     */\n    private static showReplyButtons(): void {\n      const replyLinks = document.querySelectorAll('.comment-reply-link') as NodeListOf<HTMLElement>;\n      replyLinks.forEach((replyLink) => {\n        replyLink.classList.remove('u-display--none');\n      });\n    }\n  \n    /**\n     * Initialize textarea height adjustment handlers.\n     */\n    private static initTextareaHeightHandler(): void {\n      const commentTextarea = document.getElementById('comment') as HTMLTextAreaElement | null;\n      if (commentTextarea) {\n        commentTextarea.addEventListener('keydown', Comments.adjustTextareaHeight);\n        commentTextarea.addEventListener('keyup', Comments.adjustTextareaHeight);\n      }\n    }\n  \n    /**\n     * Adjust the height of the textarea dynamically.\n     * @param event - Keyboard event triggered on the textarea.\n     */\n    private static adjustTextareaHeight(event: KeyboardEvent): void {\n      const textarea = event.target as HTMLTextAreaElement;\n      if (textarea) {\n        const lines = textarea.value.split(/\\r\\n|\\r|\\n/).length;\n        textarea.rows = lines;\n      }\n    }\n  \n    /**\n     * Initialize like comment functionality.\n     */\n    private static initLikeComment(): void {\n      const likeButtons = document.querySelectorAll('.like-button') as NodeListOf<HTMLElement>;\n      likeButtons.forEach((likeButton) => {\n        likeButton.addEventListener('click', Comments.handleLikeButtonClick);\n      });\n    }\n  \n    /**\n     * Handle like button click.\n     * @param event - The click event on the like button.\n     */\n    private static handleLikeButtonClick(event: Event): void {\n      const button = event.currentTarget as HTMLElement;\n      if (!button) return;\n  \n      const commentId = button.getAttribute('data-commentid');\n      const commentCounter = document.getElementById(`comment-likes-${commentId}`);\n      if (!commentId || !commentCounter) return;\n  \n      const formData = new FormData();\n      formData.append('action', 'ajaxLikeMethod');\n      formData.append('comment_id', commentId);\n      formData.append('nonce', (window as any).likeButtonData.nonce);\n  \n      const params = new URLSearchParams(formData as any);\n  \n      fetch((window as any).likeButtonData.ajax_url, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Cache-Control': 'no-cache',\n        },\n        body: params.toString(),\n      })\n        .then((response) => response.json())\n        .then(() => {\n          let likes = parseInt(commentCounter.getAttribute('data-likes') || '0', 10);\n          if (button.classList.contains('active')) {\n            likes--;\n            button.classList.remove('active');\n          } else {\n            likes++;\n            button.classList.add('active');\n          }\n  \n          commentCounter.textContent = likes.toString();\n          commentCounter.setAttribute('data-likes', likes.toString());\n        })\n        .catch((error) => console.error('Error liking comment:', error));\n    }\n  }\n  \n  /**\n   * Initialize the comments manager.\n   */\n  export function initializeComments(): void {\n    document.addEventListener('DOMContentLoaded', () => {\n      Comments.initializeComments();\n    });\n  }","const language = {\n  \"en\": \"Language\",\n  \"zh\": \"语言\",\n  \"hi\": \"भाषा\",\n  \"es\": \"Idioma\",\n  \"ar\": \"لغة\",\n  \"bn\": \"ভাষা\",\n  \"pt\": \"Idioma\",\n  \"ru\": \"Язык\",\n  \"ja\": \"言語\",\n  \"pa\": \"ਭਾਸ਼ਾ\",\n  \"de\": \"Sprache\",\n  \"jv\": \"Basa\",\n  \"te\": \"భాష\",\n  \"vi\": \"Ngôn ngữ\",\n  \"ko\": \"언어\",\n  \"fr\": \"Langue\",\n  \"mr\": \"भाषा\",\n  \"ta\": \"மொழி\",\n  \"it\": \"Lingua\",\n  \"tr\": \"Dil\",\n  \"ur\": \"زبان\",\n  \"uk\": \"Мова\",\n  \"ml\": \"ഭാഷ\",\n  \"tl\": \"Wika\",\n  \"fa\": \"زبان\",\n  \"th\": \"ภาษา\",\n  \"gu\": \"ભાષા\",\n  \"kn\": \"ಭಾಷೆ\",\n  \"my\": \"ဘာသာစကား\",\n  \"or\": \"ଭାଷା\",\n  \"sd\": \"ھَسپَر\",\n  \"nl\": \"Taal\",\n  \"pl\": \"Język\",\n  \"ro\": \"Limbă\",\n  \"hu\": \"Nyelv\",\n  \"sv\": \"Språk\",\n  \"am\": \"ቋንቋ\",\n  \"bs\": \"Jezik\",\n  \"sr\": \"Језик\",\n  \"hr\": \"Jezik\",\n  \"ka\": \"ენა\",\n  \"bg\": \"Език\",\n  \"el\": \"Γλώσσα\",\n  \"si\": \"භාෂාව\",\n  \"mn\": \"Хэл\",\n  \"mk\": \"Јазик\",\n  \"lv\": \"Valoda\",\n  \"lt\": \"Kalba\",\n  \"et\": \"Keel\",\n  \"hy\": \"Լեզու\",\n  \"az\": \"Dil\",\n  \"eu\": \"Hizkuntza\",\n  \"be\": \"Мова\",\n  \"ast\": \"Llingua\",\n  \"is\": \"Tungumál\",\n  \"ca\": \"Llengua\",\n  \"af\": \"Taal\",\n  \"ga\": \"Teanga\",\n  \"sm\": \"Gagana\",\n  \"to\": \"Lea faka-Tonga\",\n  \"mi\": \"Reo\",\n  \"haw\": \"Ōlelo\",\n  \"so\": \"Luqadda\",\n  \"tn\": \"Seisimane\",\n  \"st\": \"Seisimane\",\n  \"zu\": \"Ulimi\",\n  \"xh\": \"Ulimi\",\n  \"nso\": \"Seisimane\",\n  \"ss\": \"isiSwati\",\n  \"ve\": \"Lugha\",\n  \"ts\": \"Xitsonga\",\n  \"sn\": \"ChiShona\",\n  \"sw\": \"Kiswahili\",\n  \"yo\": \"Èdè\",\n  \"ig\": \"Asụsụ\",\n  \"ak\": \"Akan\",\n  \"ha\": \"Harshen\",\n  \"ff\": \"Pulaar\",\n  \"bm\": \"Bamanankan\",\n  \"ii\": \"ꆇꉙ\",\n  \"kl\": \"Kalaallisut\",\n  \"fy\": \"Frysk\",\n  \"lb\": \"Lëtzebuergesch\",\n  \"cy\": \"Cymraeg\",\n  \"gd\": \"Gàidhlig\",\n  \"kw\": \"Kernewek\",\n  \"sco\": \"Scots\",\n  \"br\": \"Brezhoneg\",\n  \"oc\": \"Occitan\",\n  \"rm\": \"Rumantsch\",\n  \"fur\": \"Furlan\",\n  \"lij\": \"Ligure\",\n  \"scn\": \"Sicilianu\",\n  \"wa\": \"Walon\",\n  \"nap\": \"Nnapulitano\",\n  \"lld\": \"Ladin\",\n  \"frp\": \"Arpitan\",\n  \"pms\": \"Piemontèis\",\n  \"eml\": \"Emigliàn–Rumagnòl\",\n  \"vec\": \"Vèneto\"\n};\n\nexport default language;\n","import language from './json/language';\n\n/* IE */\ninterface NavigatorLanguage {\n    userLanguage?: string;\n}\n\ninterface LanguageJson {\n    [key: string]: string;\n}\n\nfunction getUserLanguage(): string|null {\n    let languageCode = navigator.language || (navigator as NavigatorLanguage).userLanguage;\n\n    return languageCode ? languageCode.split('-')[0] : null;\n}\n\nfunction getTranslation(languageCode: string): string|null {\n    return language && (language as LanguageJson)[languageCode] ? (language as LanguageJson)[languageCode] : null;\n}\n\nfunction changeLanguageMenuButtonLabel(translation: string, languageCode: string) {\n    const languageLabel = document.querySelector('#site-language-menu-button .c-button__label-text');\n\n    if (languageLabel) {\n        languageLabel.textContent = translation;\n        languageLabel.setAttribute('lang', languageCode);\n\n    }\n}\n\nexport function initializeLanguageMenu() {\n    const languageCode = getUserLanguage();\n    if (!languageCode) { return; };\n\n    const translation = getTranslation(languageCode);\n    if (!translation) { return; };\n\n    document.addEventListener('DOMContentLoaded', () => {\n        changeLanguageMenuButtonLabel(translation, languageCode);\n    });\n}","class CollapsibleSearchForm {\n    private lastFocusedElement: HTMLElement | null = null;\n    private firstFocusableElement: HTMLElement | null = null;\n    private lastFocusableElement: HTMLElement | null = null;\n    private isOpen: boolean = false;\n\n    constructor(\n        private container: HTMLElement,\n        private triggerButton: HTMLElement, \n        private searchForm: HTMLElement, \n        private closeButton: HTMLElement, \n        private searchInput: HTMLElement\n    ) {\n        const [firstElement, lastElement] = this.getFocusableElements();\n        this.firstFocusableElement = firstElement;\n        this.lastFocusableElement = lastElement;\n\n        // Initialize event listeners\n        if (this.firstFocusableElement && this.lastFocusableElement) {\n            this.initializeEvents();\n        }\n    }\n\n    // Initialize event listeners once\n    private initializeEvents(): void {\n        // Always keep these listeners active\n        document.addEventListener('click', this.globalClickListener);\n        document.addEventListener('keydown', this.globalKeydownListener);\n\n        this.triggerButton.addEventListener('click', this.toggleSearchForm); // Toggle form open/close\n        this.closeButton.addEventListener('click', this.closeSearchForm);\n    }\n\n    // Function to toggle the search form\n    private toggleSearchForm = (e: Event): void => {\n        if (this.isOpen) {\n            this.closeSearchForm();\n        } else {\n            this.openSearchForm();\n        }\n    }\n\n    // Function to open the search form\n    private openSearchForm(): void {\n        this.isOpen = true;\n        this.handleIsOpen();\n\n        setTimeout(() => {\n            this.searchInput.focus(); // Focus the search input after opening the search form\n        }, 500);\n    }\n\n    // Function to close the search form\n    private closeSearchForm = (): void => {\n        if (!this.isOpen) return;\n\n        this.isOpen = false;\n        this.handleIsOpen();\n\n        setTimeout(() => {\n            this.container.classList.remove('is-closing'); // Clean up classes\n            this.lastFocusedElement?.focus(); // Restore focus to the last focused element\n        }, 500);\n    }\n\n    private handleIsOpen(): void {\n        if (this.isOpen) {\n            this.lastFocusedElement = document.activeElement as HTMLElement;\n            this.container.classList.remove('is-closing');\n            this.searchForm.setAttribute('aria-hidden', 'false');\n            this.searchForm.classList.remove('u-visibility--hidden');\n            this.triggerButton.setAttribute('aria-expanded', 'true');\n            this.container.classList.add('is-open');\n        } else {\n            this.searchForm.classList.add('u-visibility--hidden');\n            this.searchInput.blur();\n            this.container.classList.remove('is-open');\n            this.searchForm.setAttribute('aria-hidden', 'true');\n            this.triggerButton.setAttribute('aria-expanded', 'false');\n            this.container.classList.add('is-closing');\n        }\n    }\n\n    // Global click listener to detect outside clicks\n    private globalClickListener = (event: MouseEvent): void => {\n        const target = event.target as Node;\n        if (this.isOpen && !this.searchForm.contains(target) && !this.triggerButton.contains(target)) {\n            this.closeSearchForm();\n        }\n    }\n\n    // Global keydown listener for Escape and Tab key handling\n    private globalKeydownListener = (event: KeyboardEvent): void => {\n        if (!this.isOpen) return;\n\n        if (event.key === 'Escape') {\n            this.closeSearchForm();\n        } else if (event.key === 'Tab') {\n            this.trapTabKey(event);\n        }\n    }\n\n    // Trap focus inside the search form\n    private trapTabKey(event: KeyboardEvent): void {\n        if (event.shiftKey) {\n            if (document.activeElement === this.firstFocusableElement) {\n                event.preventDefault();\n                this.lastFocusableElement?.focus(); // Move focus to the last element\n            }\n        } else {\n            if (document.activeElement === this.lastFocusableElement) {\n                event.preventDefault();\n                this.firstFocusableElement?.focus(); // Move focus to the first element\n            }\n        }\n    }\n\n    // Get first and last focusable elements\n    private getFocusableElements(): [HTMLElement | null, HTMLElement | null] {\n        const focusableElements = this.searchForm.querySelectorAll<HTMLElement>('input, button');\n        return focusableElements.length\n            ? [focusableElements[0], focusableElements[focusableElements.length - 1]]\n            : [null, null];\n    }\n}\n\n// Function to initialize the collapsible search form\nexport function initializeCollapsibleSearch(): void {\n    document.addEventListener('DOMContentLoaded', () => {\n        const collapsibleSearchElements = document.querySelectorAll('.collapsible-search-form');\n\n        collapsibleSearchElements.forEach((collapsibleSearchElement) => {\n            const triggerButton = collapsibleSearchElement.querySelector('.collapsible-search-form__trigger-button');\n            const searchForm = collapsibleSearchElement.querySelector('.collapsible-search-form__form');\n            const closeButton = collapsibleSearchElement.querySelector('.collapsible-search-form__close-button');\n            const searchInput = collapsibleSearchElement.querySelector('.collapsible-search-form input');\n\n            if (triggerButton && searchForm && closeButton && searchInput) {\n                new CollapsibleSearchForm(\n                    collapsibleSearchElement as HTMLElement,\n                    triggerButton as HTMLElement, \n                    searchForm as HTMLElement, \n                    closeButton as HTMLElement, \n                    searchInput as HTMLElement\n                );\n            }\n        });\n    });\n}\n","/**\n * Session Manager\n */\nexport class SessionManager {\n  /**\n   * Initialize logout click handler\n   * \n   * Use this method to handle logout click events for elements\n   * with the class `.js-action-logout-click`. Multiple elements\n   * can trigger this event.\n   */\n  public static initLogoutClick(): void {\n      const logoutLinks = document.querySelectorAll('.js-action-logout-click') as NodeListOf<HTMLElement>;\n      logoutLinks.forEach((logoutLink) => { \n          logoutLink.addEventListener('click', SessionManager.handleLogoutClick);\n      });\n  }\n\n  /**\n   * Handle logout click\n   */\n  private static handleLogoutClick(): void {\n    sessionStorage.setItem(\"user_logged_out\", \"true\");\n  }\n}\n\n/**\n* Initialize the session manager\n*/\nexport function initializeSessionManager(): void {\n  document.addEventListener('DOMContentLoaded', () => {\n      SessionManager.initLogoutClick();\n  });\n}","/**\n * Highlight elements based on URL hash matching a data attribute.\n */\nexport class HashHighlightManager {\n  private static lastManualHashChange = 0;\n\n  /**\n   * Initialize the hash highlight system.\n   * Finds all elements with `data-highlight-on-hash-match` and toggles\n   * the class specified in `data-highlight-on-hash-match-class` when the URL hash matches.\n   */\n  public static init(): void {\n    document.addEventListener('DOMContentLoaded', () => {\n      const items = document.querySelectorAll<HTMLElement>('[data-highlight-on-hash-match]');\n\n      if (!items.length) return;\n\n      const updateHighlights = (): void => {\n        const currentHash = decodeURIComponent(location.hash.replace(/^#/, ''));\n        items.forEach(item => {\n          const targetHash = item.dataset.highlightOnHashMatch;\n          const activeClass = item.dataset.highlightOnHashMatchClass ?? 'is-current';\n          const shouldBeActive = targetHash === currentHash;\n          item.classList.toggle(activeClass, shouldBeActive);\n        });\n      };\n      window.addEventListener('hashchange', updateHighlights);\n      updateHighlights(); // initial check\n    });\n  }\n}\n\nexport function initializeHashHighlightManager(): void {\n  HashHighlightManager.init();\n}","export class HashUpdateManager {\n  private static currentHash: string | null = null;\n  private static offset: number = 0;\n\n  /**\n   * Initialize with optional offset\n   */\n  public static init(offset = 0): void {\n    this.offset = offset;\n\n    document.addEventListener('DOMContentLoaded', () => {\n      const elements = document.querySelectorAll<HTMLElement>('[data-update-hash-when-focused]');\n      \n      if (!elements.length) {\n        return;\n      }\n      \n      window.addEventListener('scroll', () => this.handleIntersect());\n      window.addEventListener('resize', () => this.handleIntersect());\n    });\n  }\n\n  private static handleIntersect(): void {\n    const elements = document.querySelectorAll<HTMLElement>('[data-update-hash-when-focused]');\n    if (elements.length === 0) return;\n\n    let candidate: HTMLElement | null = null;\n    let candidateDistance = -Infinity;\n\n    elements.forEach(el => {\n      const rect = el.getBoundingClientRect();\n      const top = rect.top;\n\n      // Use the configurable offset here\n      if (top <= this.offset && top > candidateDistance) {\n        candidate = el;\n        candidateDistance = top;\n      }\n    });\n\n    if (!candidate) candidate = elements[0];\n\n    const newHash = candidate.dataset.updateHashValue ?? candidate.id;\n\n    if (!newHash || this.currentHash === newHash) return;\n\n    this.currentHash = newHash;\n    history.replaceState(null, '', `#${newHash}`);\n    window.dispatchEvent(new HashChangeEvent('hashchange'));\n  }\n}\n\nexport function initializeHashUpdateManager(offset = 0): void {\n  HashUpdateManager.init(offset);\n}","import { newEndpoint, NameSpace, ApiCallArgs } from \"../newEndpoint\";\n\n/**\n * Arguments for the PostsList render API endpoint.\n */\nexport interface PostsListRenderArgs extends ApiCallArgs {\n    /** Block attributes for PostsList configuration. */\n    attributes: Record<string, unknown>;\n    /** Additional filter/pagination params. */\n    [key: string]: unknown;\n}\n\n/**\n * REST API endpoint for rendering PostsList asynchronously.\n * Returns rendered HTML for the posts list based on provided attributes and filters.\n */\nexport const postsListRender = newEndpoint<string, PostsListRenderArgs>({\n    nameSpace: NameSpace.MUNICIPIO_V1,\n    route: 'posts-list/render',\n    method: 'GET'\n});\n","export const updateUrlParams = (\n\tparams: Record<string, unknown>,\n\tclearAll: boolean = false,\n) => {\n\tconst url = new URL(window.location.href);\n\n\tif (clearAll) {\n\t\turl.search = \"\";\n\t}\n\n\turl.searchParams.forEach((_v, k) => {\n\t\tif (!Object.keys(params).includes(k)) {\n\t\t\turl.searchParams.delete(k);\n\t\t}\n\t});\n\n\tObject.entries(params).forEach(([key, value]) => {\n\t\t// Handle array values (multiselect) - key should already have [] suffix\n\t\tif (Array.isArray(value)) {\n\t\t\t// Clean up both with and without [] suffix\n\t\t\tconst baseKey = key.replace(/\\[\\]$/, \"\");\n\t\t\turl.searchParams.delete(baseKey);\n\t\t\turl.searchParams.delete(key);\n\n\t\t\tif (value.length > 0) {\n\t\t\t\tvalue.forEach((v) => {\n\t\t\t\t\tif (v !== null && v !== undefined && v !== \"\") {\n\t\t\t\t\t\turl.searchParams.append(key, String(v));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (value !== null && value !== undefined && value !== \"\") {\n\t\t\turl.searchParams.set(key, String(value));\n\t\t} else {\n\t\t\turl.searchParams.delete(key);\n\t\t}\n\t});\n\n\thistory.pushState({ postsListAsync: true }, \"\", url.toString());\n\twindow.dispatchEvent(new Event(\"pushstate\"));\n};\n","import { postsListRender } from \"../restApi/endpoints/postsListRender\";\nimport { updateUrlParams } from \"./updateUrlParams\";\n\nexport const postsListAsync = (\n\tcontainer: HTMLElement,\n\tpostsContainer: HTMLElement,\n\tform: HTMLFormElement,\n) => {\n\tconst fetchHTML = (\n\t\t(attributes: Record<string, unknown>) =>\n\t\t(params: Record<string, unknown>) => {\n\t\t\treturn postsListRender.call({\n\t\t\t\tattributes: JSON.stringify(attributes) as unknown as Record<\n\t\t\t\t\tstring,\n\t\t\t\t\tunknown\n\t\t\t\t>,\n\t\t\t\t...params,\n\t\t\t});\n\t\t}\n\t)(JSON.parse(container.dataset?.postsListAttributes || \"{}\"));\n\n\tconst renderHTML = (html: string) => {\n\t\tconst temp = document.createElement(\"div\");\n\t\ttemp.innerHTML = html;\n\t\tconst classNames = [...postsContainer.classList].reduce(\n\t\t\t(acc, className) => {\n\t\t\t\treturn `${acc}.${className}`;\n\t\t\t},\n\t\t\t\"\",\n\t\t);\n\t\tconst newContent = temp.querySelector(classNames) as HTMLElement;\n\t\tif (newContent) postsContainer.innerHTML = newContent.innerHTML;\n\t};\n\n\tconst setIsLoading = (isLoading: boolean) => {\n\t\tconst toggle = (e: Element, className: string) =>\n\t\t\tisLoading ? e.classList.add(className) : e.classList.remove(className);\n\n\t\tcontainer.setAttribute(\"aria-busy\", isLoading ? \"true\" : \"false\");\n\t\tcontainer.querySelectorAll(\"[data-js-posts-list-item]\").forEach((e) => {\n\t\t\ttoggle(e, \"u-preloader--inner\");\n\t\t\ttoggle(e, \"u-preloader--exclude\");\n\t\t});\n\n\t\ttoggle(container, \"is-loading\");\n\t};\n\tconst scrollView = () => {\n\t\tconst isContainerTopInView = (\n\t\t\tcontainer: HTMLElement,\n\t\t\toffset = 0,\n\t\t): boolean => {\n\t\t\tconst rect = container.getBoundingClientRect();\n\t\t\treturn rect.top >= 0 + offset && rect.top <= window.innerHeight;\n\t\t};\n\n\t\tif (!isContainerTopInView(postsContainer))\n\t\t\tpostsContainer.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n\t};\n\n\tconst render = (\n\t\t(requestCount: number = 0) =>\n\t\tasync (\n\t\t\tparams: Record<string, unknown>,\n\t\t\tclearUrlParams: boolean = false,\n\t\t) => {\n\t\t\tupdateUrlParams(params, clearUrlParams);\n\t\t\tconst currentRequest = ++requestCount;\n\n\t\t\ttry {\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst html = await fetchHTML(params);\n\t\t\t\tconst staleResponse = currentRequest !== requestCount;\n\t\t\t\tif (staleResponse) return;\n\t\t\t\trenderHTML(html);\n\t\t\t\tscrollView();\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t} finally {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t}\n\t)();\n\n\tconst setupAccessibility = () => {\n\t\tcontainer.setAttribute(\"aria-live\", \"polite\");\n\t\tcontainer.setAttribute(\"aria-atomic\", \"true\");\n\t};\n\n\tconst setupPagination = () => {\n\t\tcontainer.addEventListener(\"click\", (e) => {\n\t\t\tconst target = e.target as HTMLElement;\n\t\t\tconst link = target.closest('a[href*=\"page\"]');\n\n\t\t\tif (!link) return;\n\n\t\t\te.preventDefault();\n\t\t\tconst url = new URL(\n\t\t\t\tlink.getAttribute(\"href\") || \"\",\n\t\t\t\twindow.location.origin,\n\t\t\t);\n\t\t\tconst params = Object.fromEntries(url.searchParams.entries());\n\t\t\trender(params, false);\n\t\t});\n\t};\n\n\tconst setupFilterForm = () => {\n\t\tform.addEventListener(\"submit\", (e) => {\n\t\t\te.preventDefault();\n\t\t\tconst formData = new FormData(form);\n\t\t\tconst params: Record<string, unknown> = {};\n\n\t\t\t// Handle multiselect inputs by collecting all values for eachhttps://github.com/helsingborg-stad/ key\n\t\t\tconst uniqueKeys = [...new Set(formData.keys())];\n\t\t\tuniqueKeys.forEach((key) => {\n\t\t\t\tconst values = formData.getAll(key);\n\t\t\t\t// For multiple values, use array notation in parameter name for PHP\n\t\t\t\tif (values.length > 1) {\n\t\t\t\t\tconst arrayKey = key.endsWith(\"[]\") ? key : `${key}[]`;\n\t\t\t\t\tparams[arrayKey] = values;\n\t\t\t\t} else {\n\t\t\t\t\tparams[key] = values[0];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst currentUrl = new URL(window.location.href);\n\t\t\tcurrentUrl.searchParams.forEach((value, key) => {\n\t\t\t\tif (key.endsWith(\"_page\") && !isNaN(Number(value))) {\n\t\t\t\t\tparams[key] = \"\";\n\t\t\t\t}\n\t\t\t});\n\t\t\trender(params);\n\t\t});\n\t};\n\n\tconst setupResetButton = () => {\n\t\tcontainer.addEventListener(\"click\", (e: PointerEvent) => {\n\t\t\tconst target = e.target as HTMLElement;\n\t\t\tconst resetLink = target.closest('a[href]:not([href*=\"page\"])');\n\n\t\t\tif (!resetLink) return;\n\n\t\t\t// Check if this is inside the filter form area (reset button)\n\t\t\tconst form = container.querySelector(\"form\");\n\t\t\tif (!form || !form.contains(resetLink)) return;\n\n\t\t\t// Skip if it's a pagination link\n\t\t\tif (resetLink.getAttribute(\"href\")?.includes(\"page\")) return;\n\n\t\t\te.preventDefault();\n\n\t\t\tform //select fix\n\t\t\t\t.querySelectorAll<HTMLElement>(\"[data-js-select-component]\")\n\t\t\t\t.forEach((e) => {\n\t\t\t\t\tconst selectEl = e.querySelector<HTMLSelectElement>(\n\t\t\t\t\t\t\"[data-js-select-element]\",\n\t\t\t\t\t);\n\n\t\t\t\t\tif (!selectEl) return;\n\n\t\t\t\t\tif (selectEl.hasAttribute(\"multiple\")) {\n\t\t\t\t\t\t//multi\n\t\t\t\t\t\tArray.from(selectEl.options).forEach((option) => {\n\t\t\t\t\t\t\toption.selected = false;\n\t\t\t\t\t\t\toption.removeAttribute(\"selected\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\tselectEl.dispatchEvent(new Event(\"change\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//single\n\t\t\t\t\t\tconst clearBtn = e.querySelector<HTMLButtonElement>(\n\t\t\t\t\t\t\t\"[data-js-select-clear]\",\n\t\t\t\t\t\t);\n\t\t\t\t\t\tclearBtn?.click();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tform.reset();\n\t\t\trender({}, true);\n\t\t});\n\t};\n\n\tsetupAccessibility();\n\tsetupPagination();\n\tsetupFilterForm();\n\tsetupResetButton();\n};\n","import { postsListAsync } from \"./PostsListAsync\";\n\n/**\n * Initializes PostsListAsync for all containers with data-posts-list-async=\"true\".\n * Should be called once on page load.\n */\nexport const initPostsListAsync = (): void => {\n\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\tdocument\n\t\t\t.querySelectorAll<HTMLElement>('[data-posts-list-async=\"true\"]')\n\t\t\t.forEach((container) => {\n\t\t\t\tconst postsContainer =\n\t\t\t\t\tcontainer.querySelector<HTMLElement>(\".js-async-posts\");\n\t\t\t\tconst form = container.querySelector<HTMLFormElement>(\"form\");\n\t\t\t\tpostsContainer && form\n\t\t\t\t\t? postsListAsync(container, postsContainer, form)\n\t\t\t\t\t: console.error(\"[PostsList]: Failed to locate posts container.\");\n\t\t\t});\n\t});\n};\n","const getHeaders = ():Record<string, string> => {\n    const headers:Record<string, string> = {\n        'Content-Type': 'application/json'\n    }\n\n    if( wpApiSettings?.nonce ) {\n        headers['X-WP-Nonce'] = wpApiSettings.nonce\n    }\n\n    return headers\n}\n\nconst nonceRefreshRoute = 'municipio/v1/nonce/refresh'\n\nconst getHourlyCacheBustKey = ():string => {\n    return String(Math.floor(Date.now() / (60 * 60 * 1000)))\n}\n\nconst getNonceRefreshUrl = (root:string):string => {\n    const cacheBustKey = getHourlyCacheBustKey()\n\n    try {\n        const apiRootUrl = new URL(root, window.location.origin)\n        const url = new URL(nonceRefreshRoute, apiRootUrl)\n        url.searchParams.set('_nonceCacheBust', cacheBustKey)\n        return url.toString()\n    } catch {\n        const baseUrl = root.endsWith('/') ? root : `${root}/`\n        return `${baseUrl}${nonceRefreshRoute}?_nonceCacheBust=${cacheBustKey}`\n    }\n}\n\nconst ensureRefreshNonceMethod = ():void => {\n    if( typeof wpApiSettings === 'undefined' || !wpApiSettings ) {\n        return\n    }\n\n    if( typeof wpApiSettings.refreshNonce === 'function' ) {\n        return\n    }\n\n    wpApiSettings.refreshNonce = async (nonce?:string):Promise<string | null> => {\n        if( typeof nonce === 'string' && nonce.length > 0 ) {\n            wpApiSettings.nonce = nonce\n            return nonce\n        }\n\n        if( !wpApiSettings.root ) {\n            return wpApiSettings.nonce ?? null\n        }\n\n        try {\n            const response = await fetch(getNonceRefreshUrl(wpApiSettings.root), {\n                method: 'GET',\n                credentials: 'include',\n                headers: getHeaders()\n            })\n\n            const refreshedNonce = response.headers.get('X-WP-Nonce')\n\n            if( refreshedNonce ) {\n                wpApiSettings.nonce = refreshedNonce\n            }\n\n            return wpApiSettings.nonce ?? null\n        } catch {\n            return wpApiSettings.nonce ?? null\n        }\n    }\n}\n\nexport const initializeWpApiSettingsNonceRefresh = ():void => {\n    ensureRefreshNonceMethod()\n\n    const refresh = ():void => {\n        void wpApiSettings?.refreshNonce?.()\n    }\n\n    if( document.readyState === 'loading' ) {\n        document.addEventListener('DOMContentLoaded', refresh, { once: true })\n        return\n    }\n\n    refresh()\n}\n","import Fab from './fab';\nimport './hide';\nimport { initializeComments } from './comments';\nimport { initializeLanguageMenu } from './languageMenu';\nimport { initializeCollapsibleSearch } from './collapsibleSearch';\nimport { initializeSessionManager } from './sessionManager';\nimport { initializeHashHighlightManager } from './hashHighlightManager';\nimport { initializeHashUpdateManager } from './hashUpdateManager';\nimport { initPostsListAsync } from './postsList';\nimport { initializeWpApiSettingsNonceRefresh } from './restApi/wpApiSettings';\n\nconst fab = new Fab();\n\nfab.showOnScroll();\n\ninitializeWpApiSettingsNonceRefresh();\ninitializeLanguageMenu();\ninitializeSessionManager();\ninitializeComments();\ninitializeCollapsibleSearch();\ninitializeHashHighlightManager();\ninitializeHashUpdateManager(8 * 10);\ninitPostsListAsync();"],"names":["fab","container","form","e"],"mappings":"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"}