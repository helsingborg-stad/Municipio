{"version":3,"file":"pdf.CmGUa0AV.js","sources":["../../source/js/pdf.ts"],"sourcesContent":["    class PdfGenerator {\n        button: Element;\n        attr: string;\n        isSingle: boolean;\n        pageId: string | null;\n        postType: string | null;\n\n        constructor(button: Element, attr: string) {\n            this.button = button;\n            this.attr = attr;\n            this.isSingle = attr === 'single' ? true : false;\n            this.pageId = document.body.getAttribute('data-js-page-id');\n            this.postType = document.body.getAttribute('data-js-post-type');\n\n            const apiRoot = wpApiSettings.root;\n            if (apiRoot) {\n                button.addEventListener('click', (e) => {\n                    e.preventDefault();\n                    this.isSingle ? this.fetchPdfForSingle(apiRoot) : this.fetchPdfForArchive(apiRoot);\n                });\n            }\n        }\n    \n        async fetchPdfForArchive(apiRoot: string) {\n            const queryString = window.location.search;\n            const searchParams = new URLSearchParams(queryString);\n            \n            if (this.postType) {\n                searchParams.delete('paged');\n                window.location.href = apiRoot + 'pdf/v1/' + this.postType + '/' + (searchParams.toString() ? '?' + searchParams.toString() : '');\n            }\n        }\n\n        async fetchPdfForSingle(apiRoot: string) {\n            if (this.pageId) {\n                window.location.href = apiRoot + 'pdf/v1/id=' + this.pageId;\n            }\n        }\n    }\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const pdfGeneratorButtons = document.querySelectorAll('[data-js-pdf-generator]');\n\n    [...pdfGeneratorButtons].forEach(button => {\n        const attr = button.getAttribute('data-js-pdf-generator');\n        if (attr) {\n            new PdfGenerator(button, attr);\n        }\n    });\n});"],"names":[],"mappings":"gHAAI,MAAM,cAAN,MAAM,aAAa,CACf,OACA,KACA,SACA,OACA,SAEA,YAAY,OAAiB,KAAc,CACvC,KAAK,OAAS,OACd,KAAK,KAAO,KACZ,KAAK,SAAW,OAAS,SACzB,KAAK,OAAS,SAAS,KAAK,aAAa,iBAAiB,EAC1D,KAAK,SAAW,SAAS,KAAK,aAAa,mBAAmB,EAE9D,MAAM,QAAU,cAAc,KAC1B,SACA,OAAO,iBAAiB,QAAU,GAAM,CACpC,EAAE,eAAA,EACF,KAAK,SAAW,KAAK,kBAAkB,OAAO,EAAI,KAAK,mBAAmB,OAAO,CACrF,CAAC,CAET,CAEA,MAAM,mBAAmB,QAAiB,CACtC,MAAM,YAAc,OAAO,SAAS,OAC9B,aAAe,IAAI,gBAAgB,WAAW,EAEhD,KAAK,WACL,aAAa,OAAO,OAAO,EAC3B,OAAO,SAAS,KAAO,QAAU,UAAY,KAAK,SAAW,KAAO,aAAa,SAAA,EAAa,IAAM,aAAa,WAAa,IAEtI,CAEA,MAAM,kBAAkB,QAAiB,CACjC,KAAK,SACL,OAAO,SAAS,KAAO,QAAU,aAAe,KAAK,OAE7D,CACJ,EAtCmB,qCAAnB,IAAM,aAAN,cAwCJ,SAAS,iBAAiB,mBAAoB,IAAM,CAGhD,CAAC,GAF2B,SAAS,iBAAiB,yBAAyB,CAExD,EAAE,QAAQ,QAAU,CACvC,MAAM,KAAO,OAAO,aAAa,uBAAuB,EACpD,MACA,IAAI,aAAa,OAAQ,IAAI,CAErC,CAAC,CACL,CAAC"}