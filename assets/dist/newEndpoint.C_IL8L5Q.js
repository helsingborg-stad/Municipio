var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});var NameSpace=(NameSpace2=>(NameSpace2.MUNICIPIO_V1="municipio/v1",NameSpace2))(NameSpace||{});const getNonce=__name(()=>typeof wpApiSettings>"u"||!wpApiSettings.nonce?null:wpApiSettings.nonce,"getNonce"),getApiRoot=__name(()=>typeof wpApiSettings>"u"||!wpApiSettings.root?null:wpApiSettings.root,"getApiRoot"),buildUrl=__name((nameSpace,route,routeParams,params)=>{const apiRoot=getApiRoot();if(!apiRoot)return"";let url=`${apiRoot}${nameSpace}/${route}`;if(url+=routeParams?`/${routeParams}`:"",params){const searchParams=new URLSearchParams;Object.entries(params).forEach(([key,value])=>{Array.isArray(value)?value.forEach(v=>searchParams.append(key,String(v))):value!=null&&searchParams.append(key,String(value))});const queryString=searchParams.toString();url+=queryString?"?"+queryString:""}return url},"buildUrl"),newEndpoint=__name(options=>({call:__name(callArgs=>{const{routeParams,...data}=callArgs??{},url=buildUrl(options.nameSpace,options.route,routeParams,options.method==="GET"&&data),nonce=getNonce(),headers={"Content-Type":"application/json"};return nonce&&(headers["X-WP-Nonce"]=nonce),options.method,options.method!=="GET"&&JSON.stringify(callArgs),fetch(url,{method:options.method,body:options.method!=="GET"?JSON.stringify(callArgs):void 0,headers}).then(response=>{if(response.status===200){const contentType=response.headers.get("content-type");return contentType&&contentType.indexOf("application/json")!==-1?response.json():response.text()}else return response.statusText})},"call")}),"newEndpoint");export{NameSpace as N,newEndpoint as n};
//# sourceMappingURL=newEndpoint.C_IL8L5Q.js.map
